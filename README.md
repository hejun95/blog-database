# åšå®¢æ•°æ®åº“é¡¹ç›®

ä¸€ä¸ªç®€å•çš„Node.jsæ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œæ”¯æŒå›¾ç‰‡å’Œæ–‡å­—æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ æ–‡å­—æ•°æ®ç®¡ç†ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€æ ‡ç­¾ï¼‰
- ğŸ–¼ï¸ å›¾ç‰‡ä¸Šä¼ å’Œç®¡ç†
- ğŸ” æ•°æ®æœç´¢åŠŸèƒ½
- ğŸ“Š RESTful APIæ¥å£
- ğŸ’¾ æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨

## é¡¹ç›®ç»“æ„

```
blog-database/
â”œâ”€â”€ server.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md             # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ routes/               # è·¯ç”±æ–‡ä»¶
â”‚   â”œâ”€â”€ dataRoutes.js     # æ–‡å­—æ•°æ®è·¯ç”±
â”‚   â””â”€â”€ imageRoutes.js    # å›¾ç‰‡æ•°æ®è·¯ç”±
â”œâ”€â”€ data/                 # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ posts.json        # æ–‡å­—æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ images.json       # å›¾ç‰‡å…ƒæ•°æ®æ–‡ä»¶
â””â”€â”€ uploads/              # å›¾ç‰‡ä¸Šä¼ ç›®å½•
```

## å®‰è£…å’Œè¿è¡Œ

1. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

2. å¯åŠ¨æœåŠ¡å™¨ï¼š
```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

3. è®¿é—®APIï¼š
- æœåŠ¡å™¨åœ°å€ï¼šhttp://localhost:3000
- APIæ–‡æ¡£ï¼šhttp://localhost:3000

## APIæ¥å£

### æ–‡å­—æ•°æ®æ¥å£

#### è·å–æ‰€æœ‰æ•°æ®
```
GET /api/data
```

#### æ ¹æ®IDè·å–æ•°æ®
```
GET /api/data/:id
```

#### åˆ›å»ºæ–°æ•°æ®
```
POST /api/data
Content-Type: application/json

{
  "title": "æ ‡é¢˜",
  "content": "å†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"]
}
```

#### æ›´æ–°æ•°æ®
```
PUT /api/data/:id
Content-Type: application/json

{
  "title": "æ–°æ ‡é¢˜",
  "content": "æ–°å†…å®¹",
  "tags": ["æ–°æ ‡ç­¾"]
}
```

#### åˆ é™¤æ•°æ®
```
DELETE /api/data/:id
```

#### æœç´¢æ•°æ®
```
GET /api/data/search/:keyword
```

### å›¾ç‰‡æ¥å£

#### è·å–æ‰€æœ‰å›¾ç‰‡
```
GET /api/images
```

#### æ ¹æ®IDè·å–å›¾ç‰‡ä¿¡æ¯
```
GET /api/images/:id
```

#### ä¸Šä¼ å›¾ç‰‡
```
POST /api/images/upload
Content-Type: multipart/form-data

image: [å›¾ç‰‡æ–‡ä»¶]
title: "å›¾ç‰‡æ ‡é¢˜"
description: "å›¾ç‰‡æè¿°"
tags: "æ ‡ç­¾1,æ ‡ç­¾2"
```

#### æ›´æ–°å›¾ç‰‡ä¿¡æ¯
```
PUT /api/images/:id
Content-Type: application/json

{
  "title": "æ–°æ ‡é¢˜",
  "description": "æ–°æè¿°",
  "tags": "æ–°æ ‡ç­¾1,æ–°æ ‡ç­¾2"
}
```

#### åˆ é™¤å›¾ç‰‡
```
DELETE /api/images/:id
```

#### æœç´¢å›¾ç‰‡
```
GET /api/images/search/:keyword
```

## æ•°æ®æ ¼å¼

### æ–‡å­—æ•°æ®æ ¼å¼
```json
{
  "id": "uuid",
  "title": "æ ‡é¢˜",
  "content": "å†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

### å›¾ç‰‡æ•°æ®æ ¼å¼
```json
{
  "id": "uuid",
  "filename": "æ–‡ä»¶å",
  "originalName": "åŸå§‹æ–‡ä»¶å",
  "mimetype": "image/jpeg",
  "size": 1024,
  "path": "æ–‡ä»¶è·¯å¾„",
  "url": "/uploads/æ–‡ä»¶å",
  "title": "å›¾ç‰‡æ ‡é¢˜",
  "description": "å›¾ç‰‡æè¿°",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "uploadedAt": "2024-01-01T00:00:00.000Z"
}
```

## æŠ€æœ¯æ ˆ

- Node.js
- Express.js
- Multer (æ–‡ä»¶ä¸Šä¼ )
- fs-extra (æ–‡ä»¶æ“ä½œ)
- UUID (å”¯ä¸€æ ‡è¯†ç¬¦)
- CORS (è·¨åŸŸæ”¯æŒ)

## æ³¨æ„äº‹é¡¹

- å›¾ç‰‡æ–‡ä»¶å¤§å°é™åˆ¶ï¼š5MB
- æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ï¼šjpeg, jpg, png, gif, webp
- æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­
- å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ•°æ®åº“å­˜å‚¨ 